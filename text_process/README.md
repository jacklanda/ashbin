### 概述
搜狗语料的文本处理，采用python下的re库的regex来进行全文匹配，将匹配后的字符串对象以空格" "代替，以此实现文本预处理的目标，文本处理流程如下：

### 文本处理流程
---
- 提前制定好常见的匹配规则，如：html，url，email，css，js，电话号码，固话号码，邮编......
- 对设计的匹配规则进行测试（注：可通过regexbuddy、在线测试网站：https://regexr.com/  等来测试规则的可靠性和稳定性）
- 编写/改写 脚本程序
- 使用实际目标文本文件，运行脚本文件对其进行文本处理
- 比较输出文本与输入文本的差异（可通过bash脚本实现）
- 根据需求，完善、修改脚本程序，实现更精确的文本处理。

#### 一、 匹配对象
1. HTML标签/源码：
    - **.\*<.*>.\***
2. JavaScript脚本语句
    - JS变量赋值：**.\*var.\***
    - JS函数：**.\*function\(\).\***
    - JS条件语句：**.\*if.\***
    - JS方法调用：**.\*;.\***
    - JS注释：**.*\(\/\/).\***
3. JavaScript中的嵌套哈希/大数组(Json数据)；**.\*\{.*\}.\***
4. CSS样式语句：**.\*[\{.*\:;+\}]+.\***
4. 日期/时间：
    - **.*[\d]{1,4}[-||/||年][\d]{1,4}[-||/||月][\d]{1,4}[日]?.\***

       -> 匹配格式：2020-02-03，20-02-03，2020/02/03，20/02/03，2020/2/03，2020/2/3，2020-2-03，2020-2-03，2020年2月3日
5. 不成文的词/短句：
    - 单个符号：
    - 几个汉字构成的短句（多为页面元素内嵌文本）：(1)热门城市大众；(2)今天天气真的特别特别地舒适。  要求只匹配(1)那行，不匹配(2)那行
6. 其他文本：
    - Copyright（域名备案信息）：**.*[c|C]opy[r|R]ight.*[^\s]**           将含有Copyright的一整行删除
    - 价格：**[$||￥]\d*[\.]?[\d]***
    - 手机号（国内）：**(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}**
    - 固话号（国内）：**\d{3}-\d{8}|\d{4}-\d{7}**
    - 电子邮箱：**\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)**
    - 身份证号(15位、18位数字)，最后一位是校验位，可能为数字或字符X：**\d{18}||\d{15}**
    - 繁体字：<!-- 是只清除繁体字还是整行清除？ --> 使用zh_wiki.py来替换？
    - URL：**["||']{0,1}[a-zA-z]+://[^\s]*["}||']{0,1}**
    - 域名：**[a-zA-Z0-9]+([a-zA-Z0-9\-\.]+)?\.(aero|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zr|zw|AERO|BIZ|COM|COOP|EDU|GOV|INFO|INT|MIL|MUSEUM|NAME|NET|ORG|AC|)**
    - IP地址：**((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}**

#### 二、匹配方法
1.调用Python的内建库re或第三方库Re2库（性能更好）实现正则匹配

#### 三、文本输入格式
输入的文本为txt文件，文件中的文本以独立的行为单位，处理时应限制单次读入的行数，避免一次性大量读取，造成内存溢出。

#### 四、文本输出格式
输出的文本为txt文件，文件中的文本以独立的行为单位，每次向txt文件中写入操作对应上次txt文件的读入操作。

### 项目构建
---
##### 概览

### 待匹配去除项
---
- [x] 首页上一页下一页尾页
- [x] 共找到118281条房源
- [x] 点击查看更多图
- [x] 首页 联系我们 院长信箱 加入收藏
- [x] 注册忘记密码
- [x] 设为首页 加入收藏 返回首页
- [x] 免费注册 会员登录 搜索 排行榜 帮助中心 资费查询
- [x] 互联网出版许可证 新出网证 京 字号
- [x] 广播电视节目制作经营许可证广社 字第号
- [x] 设为首页收藏本站
- [x] 腾讯网 网站导航 认证服务 开放平台 意见反馈 简体中文 繁体中文
- [x] 共搜索到个符合条件的商品
- [x] 字体大小 大 中 小
- [x] 网站简介 广告服务 网站地图 帮助 联系方式 诚聘英才问题报告
- [x] 注册时间帖子
- [x] 帮助 联系我们
- [x] 法律声明
- [x] 登录注册帮助
- [x] 苏备号保留所有版权使用这些服务遵守使用条款和隐私政策
- [x] 共个共页下一页
- [x] 当前位置 首页详细类目
- [x] 商品导购 外链合作 店铺推广
- [x] 网站建设 广告投放 推广求助
- [x] 京备号京证号京公网安备工商注册号
- [x] 添加到收藏夹
- [x] 经营性网站备案信息
- [x] 网络文化经营许可证 文网文号
- [x] 月日来自 客户端
- [x] 转发 收藏 评论
- [x] 最后访问 现在
- [x] 您已经评价过
- [x] 转播 评论 更多
- [x] 来自腾讯微博
- [x] 正体中文繁体
- [x] 上一篇 下一篇
- [x] 搜狐首页 导航 搜索 客服
- [x] 网站简介版权声明联系我们西部网投稿友情链接广告服务工作邮箱意见反馈不良信息举报
- [x] 雅虎首页 帮助中心 反馈区
- [x] 部分点评由于相关法律法规未予以展示 敬请谅解- [ ] 由于规则中使用了：[A-Za-z]+，从而误（误打误撞，不过目前需求是删除所有带英文串的行）匹配了所有的连续英文串（包括了诸多具有意义的串如wifi、CEO、CTO...）。目前的需求是直接去除所有包含英文字符串的行。解决方法是：以 [A-Za-z]{5,0} 替换掉 [A-Za-z]+

### 遇到过的问题
- [x] 正则对超长行对象发生大量回溯，使得整个进程长时间阻塞。
- [ ] 正则各规则间的顺序安排
